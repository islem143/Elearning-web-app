import{_ as $t,r as nt,o as A,c as U,a as v,t as tt,b as yt,e as Zt,g as ft,h as bt,k as j,j as pt,w as Kt,F as ce,i as sr,n as Mn}from"./index.72b1626b.js";const Nn={name:"ModuleInfo",props:{info:{type:Object}},computed:{src(){return this.info.img_url.split("/")[2]}}},Rn={class:"card surface-100 transition-all transition-duration-200 shadow-2 hover:bg-gray-100 hover:shadow-4"},qn={class:""},Pn=v("h5",null,"Module",-1),Vn=["src"],Qn={class:"p-2"},Fn={class:"mt-2"};function Wn(e,t,n,i,o,u){const c=nt("Button");return A(),U("div",Rn,[v("div",qn,[Pn,v("img",{width:"250",class:"border-round",src:"http://localhost:8081/images/"+u.src,alt:""},null,8,Vn)]),v("div",Qn,[v("h3",Fn,tt(n.info.title),1),v("p",null,tt(n.info.description)+" Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam asperiores placeat, fuga hic impedit deserunt tempore odio repudiandae ratione aperiam ",1)]),yt(c,{style:{width:"150px"},onClick:t[0]||(t[0]=d=>e.emit("add-course")),label:"Add Course"})])}const Un=$t(Nn,[["render",Wn]]),Jn={name:"CourseQuiz",props:["quiz","course"],inject:["role"]},Zn={class:"pa-7 w-5 cursor-pointer py-2 px-4 m-4 border-round transition-all transition-duration-200 hover:bg-gray-100 shadow-4 hover:shadow-6"},Kn=v("div",{class:"flex gap-2 align-items-center"},[v("i",{class:"pi pi-check-square"}),v("h4",null,"Quiz")],-1),Yn={class:"p-2"},Xn={key:0},ti=v("b",null,"Title: ",-1),ei={key:1},ri=v("b",null,"Title: ",-1),ni=v("b",null,"Duration: ",-1),ii={class:"p-2 flex gap-2"};function si(e,t,n,i,o,u){const c=nt("Button");return A(),U("div",Zn,[Kn,v("div",Yn,[u.role!="teacher"&&n.quiz.user_id?(A(),U("div",Xn,[v("p",null,[ti,Zt(tt(n.quiz.title)+", ",1),v("b",null," mark: "+tt(n.quiz.mark),1)]),v("p",null,[v("b",null," time: "+tt(n.quiz.time),1)])])):(A(),U("div",ei,[v("p",null,[ri,Zt(tt(n.quiz.title),1)]),v("p",null,[ni,Zt(" "+tt(n.quiz.duration)+" mn",1)])]))]),v("div",ii,[u.role=="student"?(A(),ft(c,{key:0,class:"text-sm",onClick:t[0]||(t[0]=d=>e.$emit("go-to-quiz",n.quiz)),label:n.quiz.user_id?"See Result":"Start Quiz"},null,8,["label"])):bt("",!0),u.role=="teacher"?(A(),ft(c,{key:1,style:{width:"110px"},class:"text-sm",onClick:t[1]||(t[1]=d=>e.$emit("edit-quiz",n.quiz)),label:"Edit Quiz"})):bt("",!0),u.role=="teacher"?(A(),ft(c,{key:2,style:{width:"110px"},class:"text-sm p-button-danger",onClick:t[2]||(t[2]=d=>e.$emit("delete-quiz",n.quiz)),label:"Delete Quiz"})):bt("",!0)])])}const oi=$t(Jn,[["render",si]]);var z={},_e={},ye={},jt={},E={};Object.defineProperty(E,"__esModule",{value:!0});var ai=`
`;E.NewLine=ai;var pe;(function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"})(pe||(pe={}));E.ListType=pe;var fe;(function(e){e.Sub="sub",e.Super="super"})(fe||(fe={}));E.ScriptType=fe;var de;(function(e){e.Rtl="rtl"})(de||(de={}));E.DirectionType=de;var he;(function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"})(he||(he={}));E.AlignType=he;var ve;(function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"})(ve||(ve={}));E.DataType=ve;var me;(function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"})(me||(me={}));E.GroupType=me;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var ui=function(){function e(t,n){this.type=t,this.value=n}return e}();Lt.InsertDataQuill=ui;var li=function(){function e(t,n){this.type=t,this.value=n}return e}();Lt.InsertDataCustom=li;var ge={exports:{}};(function(e,t){var n=200,i="__lodash_hash_undefined__",o=1,u=2,c=9007199254740991,d="[object Arguments]",g="[object Array]",f="[object AsyncFunction]",l="[object Boolean]",_="[object Date]",y="[object Error]",k="[object Function]",h="[object GeneratorFunction]",b="[object Map]",I="[object Number]",B="[object Null]",O="[object Object]",x="[object Promise]",Z="[object Proxy]",w="[object RegExp]",K="[object Set]",H="[object String]",N="[object Symbol]",hr="[object Undefined]",Xt="[object WeakMap]",Be="[object ArrayBuffer]",Nt="[object DataView]",vr="[object Float32Array]",mr="[object Float64Array]",gr="[object Int8Array]",_r="[object Int16Array]",yr="[object Int32Array]",br="[object Uint8Array]",Tr="[object Uint8ClampedArray]",Cr="[object Uint16Array]",kr="[object Uint32Array]",Lr=/[\\^$.*+?()[\]{}|]/g,Sr=/^\[object .+?Constructor\]$/,Ir=/^(?:0|[1-9]\d*)$/,T={};T[vr]=T[mr]=T[gr]=T[_r]=T[yr]=T[br]=T[Tr]=T[Cr]=T[kr]=!0,T[d]=T[g]=T[Be]=T[l]=T[Nt]=T[_]=T[y]=T[k]=T[b]=T[I]=T[O]=T[w]=T[K]=T[H]=T[Xt]=!1;var Oe=typeof j=="object"&&j&&j.Object===Object&&j,wr=typeof self=="object"&&self&&self.Object===Object&&self,it=Oe||wr||Function("return this")(),ze=t&&!t.nodeType&&t,De=ze&&!0&&e&&!e.nodeType&&e,xe=De&&De.exports===ze,te=xe&&Oe.process,Ge=function(){try{return te&&te.binding&&te.binding("util")}catch{}}(),He=Ge&&Ge.isTypedArray;function Ar(r,s){for(var a=-1,p=r==null?0:r.length,C=0,m=[];++a<p;){var S=r[a];s(S,a,r)&&(m[C++]=S)}return m}function Br(r,s){for(var a=-1,p=s.length,C=r.length;++a<p;)r[C+a]=s[a];return r}function Or(r,s){for(var a=-1,p=r==null?0:r.length;++a<p;)if(s(r[a],a,r))return!0;return!1}function zr(r,s){for(var a=-1,p=Array(r);++a<r;)p[a]=s(a);return p}function Dr(r){return function(s){return r(s)}}function xr(r,s){return r.has(s)}function Gr(r,s){return r==null?void 0:r[s]}function Hr(r){var s=-1,a=Array(r.size);return r.forEach(function(p,C){a[++s]=[C,p]}),a}function $r(r,s){return function(a){return r(s(a))}}function jr(r){var s=-1,a=Array(r.size);return r.forEach(function(p){a[++s]=p}),a}var Er=Array.prototype,Mr=Function.prototype,Rt=Object.prototype,ee=it["__core-js_shared__"],$e=Mr.toString,et=Rt.hasOwnProperty,je=function(){var r=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ee=Rt.toString,Nr=RegExp("^"+$e.call(et).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=xe?it.Buffer:void 0,qt=it.Symbol,Ne=it.Uint8Array,Re=Rt.propertyIsEnumerable,Rr=Er.splice,dt=qt?qt.toStringTag:void 0,qe=Object.getOwnPropertySymbols,qr=Me?Me.isBuffer:void 0,Pr=$r(Object.keys,Object),re=Ct(it,"DataView"),It=Ct(it,"Map"),ne=Ct(it,"Promise"),ie=Ct(it,"Set"),se=Ct(it,"WeakMap"),wt=Ct(Object,"create"),Vr=mt(re),Qr=mt(It),Fr=mt(ne),Wr=mt(ie),Ur=mt(se),Pe=qt?qt.prototype:void 0,oe=Pe?Pe.valueOf:void 0;function ht(r){var s=-1,a=r==null?0:r.length;for(this.clear();++s<a;){var p=r[s];this.set(p[0],p[1])}}function Jr(){this.__data__=wt?wt(null):{},this.size=0}function Zr(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}function Kr(r){var s=this.__data__;if(wt){var a=s[r];return a===i?void 0:a}return et.call(s,r)?s[r]:void 0}function Yr(r){var s=this.__data__;return wt?s[r]!==void 0:et.call(s,r)}function Xr(r,s){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=wt&&s===void 0?i:s,this}ht.prototype.clear=Jr,ht.prototype.delete=Zr,ht.prototype.get=Kr,ht.prototype.has=Yr,ht.prototype.set=Xr;function st(r){var s=-1,a=r==null?0:r.length;for(this.clear();++s<a;){var p=r[s];this.set(p[0],p[1])}}function tn(){this.__data__=[],this.size=0}function en(r){var s=this.__data__,a=Vt(s,r);if(a<0)return!1;var p=s.length-1;return a==p?s.pop():Rr.call(s,a,1),--this.size,!0}function rn(r){var s=this.__data__,a=Vt(s,r);return a<0?void 0:s[a][1]}function nn(r){return Vt(this.__data__,r)>-1}function sn(r,s){var a=this.__data__,p=Vt(a,r);return p<0?(++this.size,a.push([r,s])):a[p][1]=s,this}st.prototype.clear=tn,st.prototype.delete=en,st.prototype.get=rn,st.prototype.has=nn,st.prototype.set=sn;function vt(r){var s=-1,a=r==null?0:r.length;for(this.clear();++s<a;){var p=r[s];this.set(p[0],p[1])}}function on(){this.size=0,this.__data__={hash:new ht,map:new(It||st),string:new ht}}function an(r){var s=Qt(this,r).delete(r);return this.size-=s?1:0,s}function un(r){return Qt(this,r).get(r)}function ln(r){return Qt(this,r).has(r)}function cn(r,s){var a=Qt(this,r),p=a.size;return a.set(r,s),this.size+=a.size==p?0:1,this}vt.prototype.clear=on,vt.prototype.delete=an,vt.prototype.get=un,vt.prototype.has=ln,vt.prototype.set=cn;function Pt(r){var s=-1,a=r==null?0:r.length;for(this.__data__=new vt;++s<a;)this.add(r[s])}function pn(r){return this.__data__.set(r,i),this}function fn(r){return this.__data__.has(r)}Pt.prototype.add=Pt.prototype.push=pn,Pt.prototype.has=fn;function ut(r){var s=this.__data__=new st(r);this.size=s.size}function dn(){this.__data__=new st,this.size=0}function hn(r){var s=this.__data__,a=s.delete(r);return this.size=s.size,a}function vn(r){return this.__data__.get(r)}function mn(r){return this.__data__.has(r)}function gn(r,s){var a=this.__data__;if(a instanceof st){var p=a.__data__;if(!It||p.length<n-1)return p.push([r,s]),this.size=++a.size,this;a=this.__data__=new vt(p)}return a.set(r,s),this.size=a.size,this}ut.prototype.clear=dn,ut.prototype.delete=hn,ut.prototype.get=vn,ut.prototype.has=mn,ut.prototype.set=gn;function _n(r,s){var a=Ft(r),p=!a&&xn(r),C=!a&&!p&&ae(r),m=!a&&!p&&!C&&Ye(r),S=a||p||C||m,D=S?zr(r.length,String):[],G=D.length;for(var L in r)(s||et.call(r,L))&&!(S&&(L=="length"||C&&(L=="offset"||L=="parent")||m&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||An(L,G)))&&D.push(L);return D}function Vt(r,s){for(var a=r.length;a--;)if(Ue(r[a][0],s))return a;return-1}function yn(r,s,a){var p=s(r);return Ft(r)?p:Br(p,a(r))}function At(r){return r==null?r===void 0?hr:B:dt&&dt in Object(r)?In(r):Dn(r)}function Ve(r){return Bt(r)&&At(r)==d}function Qe(r,s,a,p,C){return r===s?!0:r==null||s==null||!Bt(r)&&!Bt(s)?r!==r&&s!==s:bn(r,s,a,p,Qe,C)}function bn(r,s,a,p,C,m){var S=Ft(r),D=Ft(s),G=S?g:lt(r),L=D?g:lt(s);G=G==d?O:G,L=L==d?O:L;var R=G==O,Y=L==O,$=G==L;if($&&ae(r)){if(!ae(s))return!1;S=!0,R=!1}if($&&!R)return m||(m=new ut),S||Ye(r)?Fe(r,s,a,p,C,m):Ln(r,s,G,a,p,C,m);if(!(a&o)){var V=R&&et.call(r,"__wrapped__"),Q=Y&&et.call(s,"__wrapped__");if(V||Q){var ct=V?r.value():r,ot=Q?s.value():s;return m||(m=new ut),C(ct,ot,a,p,m)}}return $?(m||(m=new ut),Sn(r,s,a,p,C,m)):!1}function Tn(r){if(!Ke(r)||On(r))return!1;var s=Je(r)?Nr:Sr;return s.test(mt(r))}function Cn(r){return Bt(r)&&Ze(r.length)&&!!T[At(r)]}function kn(r){if(!zn(r))return Pr(r);var s=[];for(var a in Object(r))et.call(r,a)&&a!="constructor"&&s.push(a);return s}function Fe(r,s,a,p,C,m){var S=a&o,D=r.length,G=s.length;if(D!=G&&!(S&&G>D))return!1;var L=m.get(r);if(L&&m.get(s))return L==s;var R=-1,Y=!0,$=a&u?new Pt:void 0;for(m.set(r,s),m.set(s,r);++R<D;){var V=r[R],Q=s[R];if(p)var ct=S?p(Q,V,R,s,r,m):p(V,Q,R,r,s,m);if(ct!==void 0){if(ct)continue;Y=!1;break}if($){if(!Or(s,function(ot,gt){if(!xr($,gt)&&(V===ot||C(V,ot,a,p,m)))return $.push(gt)})){Y=!1;break}}else if(!(V===Q||C(V,Q,a,p,m))){Y=!1;break}}return m.delete(r),m.delete(s),Y}function Ln(r,s,a,p,C,m,S){switch(a){case Nt:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case Be:return!(r.byteLength!=s.byteLength||!m(new Ne(r),new Ne(s)));case l:case _:case I:return Ue(+r,+s);case y:return r.name==s.name&&r.message==s.message;case w:case H:return r==s+"";case b:var D=Hr;case K:var G=p&o;if(D||(D=jr),r.size!=s.size&&!G)return!1;var L=S.get(r);if(L)return L==s;p|=u,S.set(r,s);var R=Fe(D(r),D(s),p,C,m,S);return S.delete(r),R;case N:if(oe)return oe.call(r)==oe.call(s)}return!1}function Sn(r,s,a,p,C,m){var S=a&o,D=We(r),G=D.length,L=We(s),R=L.length;if(G!=R&&!S)return!1;for(var Y=G;Y--;){var $=D[Y];if(!(S?$ in s:et.call(s,$)))return!1}var V=m.get(r);if(V&&m.get(s))return V==s;var Q=!0;m.set(r,s),m.set(s,r);for(var ct=S;++Y<G;){$=D[Y];var ot=r[$],gt=s[$];if(p)var Xe=S?p(gt,ot,$,s,r,m):p(ot,gt,$,r,s,m);if(!(Xe===void 0?ot===gt||C(ot,gt,a,p,m):Xe)){Q=!1;break}ct||(ct=$=="constructor")}if(Q&&!ct){var Wt=r.constructor,Ut=s.constructor;Wt!=Ut&&"constructor"in r&&"constructor"in s&&!(typeof Wt=="function"&&Wt instanceof Wt&&typeof Ut=="function"&&Ut instanceof Ut)&&(Q=!1)}return m.delete(r),m.delete(s),Q}function We(r){return yn(r,$n,wn)}function Qt(r,s){var a=r.__data__;return Bn(s)?a[typeof s=="string"?"string":"hash"]:a.map}function Ct(r,s){var a=Gr(r,s);return Tn(a)?a:void 0}function In(r){var s=et.call(r,dt),a=r[dt];try{r[dt]=void 0;var p=!0}catch{}var C=Ee.call(r);return p&&(s?r[dt]=a:delete r[dt]),C}var wn=qe?function(r){return r==null?[]:(r=Object(r),Ar(qe(r),function(s){return Re.call(r,s)}))}:jn,lt=At;(re&&lt(new re(new ArrayBuffer(1)))!=Nt||It&&lt(new It)!=b||ne&&lt(ne.resolve())!=x||ie&&lt(new ie)!=K||se&&lt(new se)!=Xt)&&(lt=function(r){var s=At(r),a=s==O?r.constructor:void 0,p=a?mt(a):"";if(p)switch(p){case Vr:return Nt;case Qr:return b;case Fr:return x;case Wr:return K;case Ur:return Xt}return s});function An(r,s){return s=s==null?c:s,!!s&&(typeof r=="number"||Ir.test(r))&&r>-1&&r%1==0&&r<s}function Bn(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}function On(r){return!!je&&je in r}function zn(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||Rt;return r===a}function Dn(r){return Ee.call(r)}function mt(r){if(r!=null){try{return $e.call(r)}catch{}try{return r+""}catch{}}return""}function Ue(r,s){return r===s||r!==r&&s!==s}var xn=Ve(function(){return arguments}())?Ve:function(r){return Bt(r)&&et.call(r,"callee")&&!Re.call(r,"callee")},Ft=Array.isArray;function Gn(r){return r!=null&&Ze(r.length)&&!Je(r)}var ae=qr||En;function Hn(r,s){return Qe(r,s)}function Je(r){if(!Ke(r))return!1;var s=At(r);return s==k||s==h||s==f||s==Z}function Ze(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=c}function Ke(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}function Bt(r){return r!=null&&typeof r=="object"}var Ye=He?Dr(He):Cn;function $n(r){return Gn(r)?_n(r):kn(r)}function jn(){return[]}function En(){return!1}e.exports=Hn})(ge,ge.exports);var ci=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});var q=E,tr=Lt,pi=ci(ge.exports),fi=function(){function e(t,n){typeof t=="string"&&(t=new tr.InsertDataQuill(q.DataType.Text,t+"")),this.insert=t,this.attributes=n||{}}return e.createNewLineOp=function(){return new e(q.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var t=this.attributes;return!!(t.align||t.direction||t.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(t){return t.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(t){return this.attributes.align===t.attributes.align&&this.attributes.direction===t.attributes.direction&&this.attributes.indent===t.attributes.indent},e.prototype.hasSameIndentationAs=function(t){return this.attributes.indent===t.attributes.indent},e.prototype.hasSameAttr=function(t){return pi.default(this.attributes,t.attributes)},e.prototype.hasHigherIndentThan=function(t){return(Number(this.attributes.indent)||0)>(Number(t.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(t){return this.attributes["code-block"]===t.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===q.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===q.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===q.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===q.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===q.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==q.ListType.Unchecked||this.attributes.list===q.ListType.Checked},e.prototype.isSameListAs=function(t){return!!t.attributes.list&&(this.attributes.list===t.attributes.list||t.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(t){return!!t.isTable()&&this.isTable()&&this.attributes.table===t.attributes.table},e.prototype.isText=function(){return this.insert.type===q.DataType.Text},e.prototype.isImage=function(){return this.insert.type===q.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===q.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===q.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof tr.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();jt.DeltaInsertOp=fi;var Yt={},be={},Et={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});function di(e){var t=e;t=t.replace(/^\s*/gm,"");var n=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return n.test(t)?t:"unsafe:"+t}Te.sanitize=di;var at={};Object.defineProperty(at,"__esModule",{value:!0});var kt;(function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"})(kt||(kt={}));function hi(e,t){if(t===void 0&&(t=void 0),!e)return"";var n="";if(t){var i=[].concat(t);n=i.map(function(u){return u.key+(u.value?'="'+u.value+'"':"")}).join(" ")}var o=">";return(e==="img"||e==="br")&&(o="/>"),n?"<"+e+" "+n+o:"<"+e+o}at.makeStartTag=hi;function vi(e){return e===void 0&&(e=""),e&&"</"+e+">"||""}at.makeEndTag=vi;function or(e){return Ce(kt.Html).reduce(ur,e)}at.decodeHtml=or;function mi(e,t){return t===void 0&&(t=!0),t&&(e=or(e)),Ce(kt.Html).reduce(ar,e)}at.encodeHtml=mi;function gi(e){var t=Ce(kt.Url),n=t.reduce(ur,e);return t.reduce(ar,n)}at.encodeLink=gi;function Ce(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===kt.Html?t.filter(function(n){var i=n[0];return n[1],i.indexOf("(")===-1&&i.indexOf(")")===-1}):t.filter(function(n){var i=n[0];return n[1],i.indexOf("/")===-1})}function ar(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function ur(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}var _i=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Et,"__esModule",{value:!0});var yi=_i(Te),bi=at,Ti=function(){function e(){}return e.sanitize=function(t,n){var i=function(){};n&&typeof n.urlSanitizer=="function"&&(i=n.urlSanitizer);var o=i(t);return typeof o=="string"?o:bi.encodeLink(yi.sanitize(t))},e}();Et.OpLinkSanitizer=Ti;Object.defineProperty(be,"__esModule",{value:!0});var er=Et,Ci=function(){function e(){}return e.sanitize=function(t,n){var i={};return!t||typeof t!="object"||(t.class&&e.IsValidClass(t.class)&&(i.class=t.class),t.id&&e.IsValidId(t.id)&&(i.id=t.id),e.IsValidTarget(t.target+"")&&(i.target=t.target),t.avatar&&(i.avatar=er.OpLinkSanitizer.sanitize(t.avatar+"",n)),t["end-point"]&&(i["end-point"]=er.OpLinkSanitizer.sanitize(t["end-point"]+"",n)),t.slug&&(i.slug=t.slug+"")),i},e.IsValidClass=function(t){return!!t.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(t){return!!t.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(t){return["_self","_blank","_parent","_top"].indexOf(t)>-1},e}();be.MentionSanitizer=Ci;var J={};Object.defineProperty(J,"__esModule",{value:!0});function ki(e){return e.length===0?null:e.length>=2?e[1]:e[0]}J.preferSecond=ki;function lr(e){return e.reduce(function(t,n){return t.concat(Array.isArray(n)?lr(n):n)},[])}J.flatten=lr;function Li(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}J.find=Li;function Si(e,t){for(var n=[],i,o,u=0;u<e.length;u++)i=e[u],u>0&&t(i,e[u-1])?(o=n[n.length-1],o.push(i)):n.push([i]);return n.map(function(c){return c.length===1?c[0]:c})}J.groupConsecutiveElementsWhile=Si;function Ii(e,t,n){for(var i={elements:[],sliceStartsAt:-1},o=t;o>=0&&n(e[o]);o--)i.sliceStartsAt=o,i.elements.unshift(e[o]);return i}J.sliceFromReverseWhile=Ii;function wi(e,t){return e.reduce(function(n,i,o){return n.push(i),o<e.length-1&&n.push(t),n},[])}J.intersperse=wi;Object.defineProperty(Yt,"__esModule",{value:!0});var X=E,Ai=be,Bi=J,Oi=Et,zi=function(){function e(){}return e.sanitize=function(t,n){var i={};if(!t||typeof t!="object")return i;var o=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],u=["background","color"],c=t.font,d=t.size,g=t.link,f=t.script,l=t.list,_=t.header,y=t.align,k=t.direction,h=t.indent,b=t.mentions,I=t.mention,B=t.width,O=t.target,x=t.rel,Z=t["code-block"],w=o.concat(u,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(o.forEach(function(H){var N=t[H];N&&(i[H]=!!N)}),u.forEach(function(H){var N=t[H];N&&(e.IsValidHexColor(N+"")||e.IsValidColorLiteral(N+"")||e.IsValidRGBColor(N+""))&&(i[H]=N)}),c&&e.IsValidFontName(c+"")&&(i.font=c),d&&e.IsValidSize(d+"")&&(i.size=d),B&&e.IsValidWidth(B+"")&&(i.width=B),g&&(i.link=Oi.OpLinkSanitizer.sanitize(g+"",n)),O&&e.isValidTarget(O)&&(i.target=O),x&&e.IsValidRel(x)&&(i.rel=x),Z&&(e.IsValidLang(Z)?i["code-block"]=Z:i["code-block"]=!!Z),(f===X.ScriptType.Sub||X.ScriptType.Super===f)&&(i.script=f),(l===X.ListType.Bullet||l===X.ListType.Ordered||l===X.ListType.Checked||l===X.ListType.Unchecked)&&(i.list=l),Number(_)&&(i.header=Math.min(Number(_),6)),Bi.find([X.AlignType.Center,X.AlignType.Right,X.AlignType.Justify,X.AlignType.Left],function(H){return H===y})&&(i.align=y),k===X.DirectionType.Rtl&&(i.direction=k),h&&Number(h)&&(i.indent=Math.min(Number(h),30)),b&&I){var K=Ai.MentionSanitizer.sanitize(I,n);Object.keys(K).length>0&&(i.mentions=!!b,i.mention=I)}return Object.keys(t).reduce(function(H,N){return w.indexOf(N)===-1&&(H[N]=t[N]),H},i)},e.IsValidHexColor=function(t){return!!t.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(t){return!!t.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(t){var n=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!t.match(n)},e.IsValidFontName=function(t){return!!t.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(t){return!!t.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(t){return!!t.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(t){return!!t.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(t){return!!t.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(t){return typeof t=="boolean"?!0:!!t.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();Yt.OpAttributeSanitizer=zi;var ke={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});function Di(e){var t=`
`;if(e===t)return[e];var n=e.split(t);if(n.length===1)return n;var i=n.length-1;return n.reduce(function(o,u,c){return c!==i?u!==""?o=o.concat(u,t):o.push(t):u!==""&&o.push(u),o},[])}Le.tokenizeWithNewLines=Di;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});function xi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=0;o<t.length;o++){var u=t[o];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])}return i}Mt.assign=xi;var cr=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(ke,"__esModule",{value:!0});var ue=E,Gi=cr(Le),rr=cr(Mt),Hi=function(){function e(){}return e.denormalize=function(t){if(!t||typeof t!="object")return[];if(typeof t.insert=="object"||t.insert===ue.NewLine)return[t];var n=Gi.tokenizeWithNewLines(t.insert+"");if(n.length===1)return[t];var i=rr.assign({},t,{insert:ue.NewLine});return n.map(function(o){return o===ue.NewLine?i:rr.assign({},t,{insert:o})})},e}();ke.InsertOpDenormalizer=Hi;Object.defineProperty(ye,"__esModule",{value:!0});var $i=jt,rt=E,Ot=Lt,ji=Yt,Ei=ke,nr=Et,Mi=function(){function e(){}return e.convert=function(t,n){if(!Array.isArray(t))return[];for(var i=[].concat.apply([],t.map(Ei.InsertOpDenormalizer.denormalize)),o=[],u,c,d=0,g=i;d<g.length;d++){var f=g[d];!f.insert||(u=e.convertInsertVal(f.insert,n),u&&(c=ji.OpAttributeSanitizer.sanitize(f.attributes,n),o.push(new $i.DeltaInsertOp(u,c))))}return o},e.convertInsertVal=function(t,n){if(typeof t=="string")return new Ot.InsertDataQuill(rt.DataType.Text,t);if(!t||typeof t!="object")return null;var i=Object.keys(t);return i.length?rt.DataType.Image in t?new Ot.InsertDataQuill(rt.DataType.Image,nr.OpLinkSanitizer.sanitize(t[rt.DataType.Image]+"",n)):rt.DataType.Video in t?new Ot.InsertDataQuill(rt.DataType.Video,nr.OpLinkSanitizer.sanitize(t[rt.DataType.Video]+"",n)):rt.DataType.Formula in t?new Ot.InsertDataQuill(rt.DataType.Formula,t[rt.DataType.Formula]):new Ot.InsertDataCustom(i[0],t[i[0]]):null},e}();ye.InsertOpsConverter=Mi;var Se={};(function(e){var t=j&&j.__importStar||function(f){if(f&&f.__esModule)return f;var l={};if(f!=null)for(var _ in f)Object.hasOwnProperty.call(f,_)&&(l[_]=f[_]);return l.default=f,l};Object.defineProperty(e,"__esModule",{value:!0});var n=at,i=E,o=t(Mt),u=t(J),c=Yt,d={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};e.DEFAULT_INLINE_STYLES={font:function(f){return d[f]||"font-family:"+f},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(f,l){var _=parseInt(f,10)*3,y=l.attributes.direction==="rtl"?"right":"left";return"padding-"+y+":"+_+"em"},direction:function(f,l){if(f==="rtl")return"direction:rtl"+(l.attributes.align?"":"; text-align:inherit")}};var g=function(){function f(l,_){this.op=l,this.options=o.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},_)}return f.prototype.prefixClass=function(l){return this.options.classPrefix?this.options.classPrefix+"-"+l:l+""},f.prototype.getHtml=function(){var l=this.getHtmlParts();return l.openingTag+l.content+l.closingTag},f.prototype.getHtmlParts=function(){var l=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:i.NewLine};var _=this.getTags(),y=this.getTagAttributes();!_.length&&y.length&&_.push("span");for(var k=[],h=[],b="img",I=function(Z){return Z===b&&!!l.op.attributes.link},B=0,O=_;B<O.length;B++){var x=O[B];I(x)&&k.push(n.makeStartTag("a",this.getLinkAttrs())),k.push(n.makeStartTag(x,y)),h.push(x==="img"?"":n.makeEndTag(x)),I(x)&&h.push(n.makeEndTag("a")),y=[]}return h.reverse(),{openingTag:k.join(""),content:this.getContent(),closingTag:h.join("")}},f.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var l=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&n.encodeHtml(l)||l},f.prototype.getCssClasses=function(){var l=this.op.attributes;if(this.options.inlineStyles)return[];var _=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&_.push("background"),(this.getCustomCssClasses()||[]).concat(_.filter(function(y){return!!l[y]}).filter(function(y){return y==="background"?c.OpAttributeSanitizer.IsValidColorLiteral(l[y]):!0}).map(function(y){return y+"-"+l[y]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},f.prototype.getCssStyles=function(){var l=this,_=this.op.attributes,y=[["color"]];return(!!this.options.inlineStyles||!this.options.allowBackgroundClasses)&&y.push(["background","background-color"]),this.options.inlineStyles&&(y=y.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(y.filter(function(k){return!!_[k[0]]}).map(function(k){var h=k[0],b=_[h],I=l.options.inlineStyles&&l.options.inlineStyles[h]||e.DEFAULT_INLINE_STYLES[h];if(typeof I=="object")return I[b];if(typeof I=="function"){var B=I;return B(b,l.op)}else return u.preferSecond(k)+":"+b})).filter(function(k){return k!==void 0})},f.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var l=this.makeAttr.bind(this),_=this.getCustomTagAttributes(),y=_?Object.keys(this.getCustomTagAttributes()).map(function(B){return l(B,_[B])}):[],k=this.getCssClasses(),h=k.length?y.concat([l("class",k.join(" "))]):y;if(this.op.isImage())return this.op.attributes.width&&(h=h.concat(l("width",this.op.attributes.width))),h.concat(l("src",this.op.insert.value));if(this.op.isACheckList())return h.concat(l("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return h;if(this.op.isVideo())return h.concat(l("frameborder","0"),l("allowfullscreen","true"),l("src",this.op.insert.value));if(this.op.isMentions()){var b=this.op.attributes.mention;return b.class&&(h=h.concat(l("class",b.class))),b["end-point"]&&b.slug?h=h.concat(l("href",b["end-point"]+"/"+b.slug)):h=h.concat(l("href","about:blank")),b.target&&(h=h.concat(l("target",b.target))),h}var I=this.getCssStyles();return I.length&&h.push(l("style",I.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?h.concat(l("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(h=h.concat(this.getLinkAttrs())),h)},f.prototype.makeAttr=function(l,_){return{key:l,value:_}},f.prototype.getLinkAttrs=function(){var l=[],_=c.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,y=c.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,k=this.op.attributes.target||_,h=this.op.attributes.rel||y;return l.concat(this.makeAttr("href",this.op.attributes.link)).concat(k?this.makeAttr("target",k):[]).concat(h?this.makeAttr("rel",h):[])},f.prototype.getCustomTag=function(l){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[l,this.op])},f.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},f.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var l=this.options.customCssClasses.apply(null,[this.op]);if(l)return Array.isArray(l)?l:[l]}},f.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var l=this.options.customCssStyles.apply(null,[this.op]);if(l)return Array.isArray(l)?l:[l]}},f.prototype.getTags=function(){var l=this,_=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var y=this.options.paragraphTag||"p",k=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",y],["direction",y],["indent",y]],h=0,b=k;h<b.length;h++){var I=b[h],B=I[0];if(_[B]){var O=this.getCustomTag(B);return O?[O]:B==="header"?["h"+_[B]]:[u.preferSecond(I)]}}if(this.op.isCustomTextBlock()){var O=this.getCustomTag("renderAsBlock");return O?[O]:[y]}var x=Object.keys(_).reduce(function(w,K){var H=l.getCustomTag(K);return H&&(w[K]=H),w},{}),Z=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return Z.filter(function(w){return!!_[w[0]]}).concat(Object.keys(x).filter(function(w){return!Z.some(function(K){return K[0]==w})}).map(function(w){return[w,x[w]]})).map(function(w){return x[w[0]]?x[w[0]]:w[0]==="script"?_[w[0]]===i.ScriptType.Sub?"sub":"sup":u.preferSecond(w)})},f}();e.OpToHtmlConverter=g})(Se);var Ie={},M={},pr=j&&j.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(M,"__esModule",{value:!0});var Ni=function(){function e(t){this.ops=t}return e}();M.InlineGroup=Ni;var fr=function(){function e(t){this.op=t}return e}(),Ri=function(e){pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(fr);M.VideoItem=Ri;var qi=function(e){pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(fr);M.BlotBlock=qi;var Pi=function(){function e(t,n){this.op=t,this.ops=n}return e}();M.BlockGroup=Pi;var Vi=function(){function e(t){this.items=t}return e}();M.ListGroup=Vi;var Qi=function(){function e(t,n){n===void 0&&(n=null),this.item=t,this.innerList=n}return e}();M.ListItem=Qi;var Fi=function(){function e(t){this.rows=t}return e}();M.TableGroup=Fi;var Wi=function(){function e(t){this.cells=t}return e}();M.TableRow=Wi;var Ui=function(){function e(t){this.item=t}return e}();M.TableCell=Ui;Object.defineProperty(Ie,"__esModule",{value:!0});var Ji=jt,Jt=J,_t=M,Zi=function(){function e(){}return e.pairOpsWithTheirBlock=function(t){for(var n=[],i=function(f){return!(f.isJustNewline()||f.isCustomEmbedBlock()||f.isVideo()||f.isContainerBlock())},o=function(f){return f.isInline()},u=t.length-1,c,d=u;d>=0;d--){var g=t[d];g.isVideo()?n.push(new _t.VideoItem(g)):g.isCustomEmbedBlock()?n.push(new _t.BlotBlock(g)):g.isContainerBlock()?(c=Jt.sliceFromReverseWhile(t,d-1,i),n.push(new _t.BlockGroup(g,c.elements)),d=c.sliceStartsAt>-1?c.sliceStartsAt:d):(c=Jt.sliceFromReverseWhile(t,d-1,o),n.push(new _t.InlineGroup(c.elements.concat(g))),d=c.sliceStartsAt>-1?c.sliceStartsAt:d)}return n.reverse(),n},e.groupConsecutiveSameStyleBlocks=function(t,n){return n===void 0&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),Jt.groupConsecutiveElementsWhile(t,function(i,o){return!(i instanceof _t.BlockGroup)||!(o instanceof _t.BlockGroup)?!1:n.codeBlocks&&e.areBothCodeblocksWithSameLang(i,o)||n.blockquotes&&e.areBothBlockquotesWithSameAdi(i,o)||n.header&&e.areBothSameHeadersWithSameAdi(i,o)||n.customBlocks&&e.areBothCustomBlockWithSameAttr(i,o)})},e.reduceConsecutiveSameStyleBlocksToOne=function(t){var n=Ji.DeltaInsertOp.createNewLineOp();return t.map(function(i){if(!Array.isArray(i))return i instanceof _t.BlockGroup&&!i.ops.length&&i.ops.push(n),i;var o=i.length-1;return i[0].ops=Jt.flatten(i.map(function(u,c){return u.ops.length?u.ops.concat(c<o?[n]:[]):[n]})),i[0]})},e.areBothCodeblocksWithSameLang=function(t,n){return t.op.isCodeBlock()&&n.op.isCodeBlock()&&t.op.hasSameLangAs(n.op)},e.areBothSameHeadersWithSameAdi=function(t,n){return t.op.isSameHeaderAs(n.op)&&t.op.hasSameAdiAs(n.op)},e.areBothBlockquotesWithSameAdi=function(t,n){return t.op.isBlockquote()&&n.op.isBlockquote()&&t.op.hasSameAdiAs(n.op)},e.areBothCustomBlockWithSameAttr=function(t,n){return t.op.isCustomTextBlock()&&n.op.isCustomTextBlock()&&t.op.hasSameAttr(n.op)},e}();Ie.Grouper=Zi;var we={};Object.defineProperty(we,"__esModule",{value:!0});var F=M,zt=J,Ki=function(){function e(){}return e.prototype.nest=function(t){var n=this,i=this.convertListBlocksToListGroups(t),o=this.groupConsecutiveListGroups(i),u=zt.flatten(o.map(function(d){return Array.isArray(d)?n.nestListSection(d):d})),c=zt.groupConsecutiveElementsWhile(u,function(d,g){return d instanceof F.ListGroup&&g instanceof F.ListGroup?d.items[0].item.op.isSameListAs(g.items[0].item.op):!1});return c.map(function(d){if(!Array.isArray(d))return d;var g=d.map(function(f){return f.items});return new F.ListGroup(zt.flatten(g))})},e.prototype.convertListBlocksToListGroups=function(t){var n=zt.groupConsecutiveElementsWhile(t,function(i,o){return i instanceof F.BlockGroup&&o instanceof F.BlockGroup&&i.op.isList()&&o.op.isList()&&i.op.isSameListAs(o.op)&&i.op.hasSameIndentationAs(o.op)});return n.map(function(i){return Array.isArray(i)?new F.ListGroup(i.map(function(o){return new F.ListItem(o)})):i instanceof F.BlockGroup&&i.op.isList()?new F.ListGroup([new F.ListItem(i)]):i})},e.prototype.groupConsecutiveListGroups=function(t){return zt.groupConsecutiveElementsWhile(t,function(n,i){return n instanceof F.ListGroup&&i instanceof F.ListGroup})},e.prototype.nestListSection=function(t){var n=this,i=this.groupByIndent(t);return Object.keys(i).map(Number).sort().reverse().forEach(function(o){i[o].forEach(function(u){var c=t.indexOf(u);n.placeUnderParent(u,t.slice(0,c))&&t.splice(c,1)})}),t},e.prototype.groupByIndent=function(t){return t.reduce(function(n,i){var o=i.items[0].item.op.attributes.indent;return o&&(n[o]=n[o]||[],n[o].push(i)),n},{})},e.prototype.placeUnderParent=function(t,n){for(var i=n.length-1;i>=0;i--){var o=n[i];if(t.items[0].item.op.hasHigherIndentThan(o.items[0].item.op)){var u=o.items[o.items.length-1];return u.innerList?u.innerList.items=u.innerList.items.concat(t.items):u.innerList=t,!0}}return!1},e}();we.ListNester=Ki;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});var W=M,ir=J,Yi=function(){function e(){}return e.prototype.group=function(t){var n=this.convertTableBlocksToTableGroups(t);return n},e.prototype.convertTableBlocksToTableGroups=function(t){var n=this,i=ir.groupConsecutiveElementsWhile(t,function(o,u){return o instanceof W.BlockGroup&&u instanceof W.BlockGroup&&o.op.isTable()&&u.op.isTable()});return i.map(function(o){return Array.isArray(o)?new W.TableGroup(n.convertTableBlocksToTableRows(o)):o instanceof W.BlockGroup&&o.op.isTable()?new W.TableGroup([new W.TableRow([new W.TableCell(o)])]):o})},e.prototype.convertTableBlocksToTableRows=function(t){var n=ir.groupConsecutiveElementsWhile(t,function(i,o){return i instanceof W.BlockGroup&&o instanceof W.BlockGroup&&i.op.isTable()&&o.op.isTable()&&i.op.isSameTableRowAs(o.op)});return n.map(function(i){return new W.TableRow(Array.isArray(i)?i.map(function(o){return new W.TableCell(o)}):[new W.TableCell(i)])})},e}();Ae.TableGrouper=Yi;var Xi=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(_e,"__esModule",{value:!0});var ts=ye,Dt=Se,le=Ie,xt=M,es=we,P=at,rs=Xi(Mt),Gt=E,ns=Ae,Ht="<br/>",is=function(){function e(t,n){this.rawDeltaOps=[],this.callbacks={},this.options=rs.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},n,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var i;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?i=this.options.inlineStyles:i={}:i=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:i,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=t}return e.prototype._getListTag=function(t){return t.isOrderedList()?this.options.orderedListTag+"":t.isBulletList()?this.options.bulletListTag+"":t.isCheckedList()?this.options.bulletListTag+"":t.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var t=ts.InsertOpsConverter.convert(this.rawDeltaOps,this.options),n=le.Grouper.pairOpsWithTheirBlock(t),i=le.Grouper.groupConsecutiveSameStyleBlocks(n,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),o=le.Grouper.reduceConsecutiveSameStyleBlocksToOne(i),u=new ns.TableGrouper;o=u.group(o);var c=new es.ListNester;return c.nest(o)},e.prototype.convert=function(){var t=this,n=this.getGroupedOps();return n.map(function(i){if(i instanceof xt.ListGroup)return t._renderWithCallbacks(Gt.GroupType.List,i,function(){return t._renderList(i)});if(i instanceof xt.TableGroup)return t._renderWithCallbacks(Gt.GroupType.Table,i,function(){return t._renderTable(i)});if(i instanceof xt.BlockGroup){var o=i;return t._renderWithCallbacks(Gt.GroupType.Block,i,function(){return t._renderBlock(o.op,o.ops)})}else return i instanceof xt.BlotBlock?t._renderCustom(i.op,null):i instanceof xt.VideoItem?t._renderWithCallbacks(Gt.GroupType.Video,i,function(){var u=i,c=new Dt.OpToHtmlConverter(u.op,t.converterOptions);return c.getHtml()}):t._renderWithCallbacks(Gt.GroupType.InlineGroup,i,function(){return t._renderInlines(i.ops,!0)})}).join("")},e.prototype._renderWithCallbacks=function(t,n,i){var o="",u=this.callbacks.beforeRender_cb;o=typeof u=="function"?u.apply(null,[t,n]):"",o||(o=i());var c=this.callbacks.afterRender_cb;return o=typeof c=="function"?c.apply(null,[t,o]):o,o},e.prototype._renderList=function(t){var n=this,i=t.items[0];return P.makeStartTag(this._getListTag(i.item.op))+t.items.map(function(o){return n._renderListItem(o)}).join("")+P.makeEndTag(this._getListTag(i.item.op))},e.prototype._renderListItem=function(t){t.item.op.attributes.indent=0;var n=new Dt.OpToHtmlConverter(t.item.op,this.converterOptions),i=n.getHtmlParts(),o=this._renderInlines(t.item.ops,!1);return i.openingTag+o+(t.innerList?this._renderList(t.innerList):"")+i.closingTag},e.prototype._renderTable=function(t){var n=this;return P.makeStartTag("table")+P.makeStartTag("tbody")+t.rows.map(function(i){return n._renderTableRow(i)}).join("")+P.makeEndTag("tbody")+P.makeEndTag("table")},e.prototype._renderTableRow=function(t){var n=this;return P.makeStartTag("tr")+t.cells.map(function(i){return n._renderTableCell(i)}).join("")+P.makeEndTag("tr")},e.prototype._renderTableCell=function(t){var n=new Dt.OpToHtmlConverter(t.item.op,this.converterOptions),i=n.getHtmlParts(),o=this._renderInlines(t.item.ops,!1);return P.makeStartTag("td",{key:"data-row",value:t.item.op.attributes.table})+i.openingTag+o+i.closingTag+P.makeEndTag("td")},e.prototype._renderBlock=function(t,n){var i=this,o=new Dt.OpToHtmlConverter(t,this.converterOptions),u=o.getHtmlParts();if(t.isCodeBlock())return u.openingTag+P.encodeHtml(n.map(function(d){return d.isCustomEmbed()?i._renderCustom(d,t):d.insert.value}).join(""))+u.closingTag;var c=n.map(function(d){return i._renderInline(d,t)}).join("");return u.openingTag+(c||Ht)+u.closingTag},e.prototype._renderInlines=function(t,n){var i=this;n===void 0&&(n=!0);var o=t.length-1,u=t.map(function(g,f){return f>0&&f===o&&g.isJustNewline()?"":i._renderInline(g,null)}).join("");if(!n)return u;var c=P.makeStartTag(this.options.paragraphTag),d=P.makeEndTag(this.options.paragraphTag);return u===Ht||this.options.multiLineParagraph?c+u+d:c+u.split(Ht).map(function(g){return g===""?Ht:g}).join(d+c)+d},e.prototype._renderInline=function(t,n){if(t.isCustomEmbed())return this._renderCustom(t,n);var i=new Dt.OpToHtmlConverter(t,this.converterOptions);return i.getHtml().replace(/\n/g,Ht)},e.prototype._renderCustom=function(t,n){var i=this.callbacks.renderCustomOp_cb;return typeof i=="function"?i.apply(null,[t,n]):""},e.prototype.beforeRender=function(t){typeof t=="function"&&(this.callbacks.beforeRender_cb=t)},e.prototype.afterRender=function(t){typeof t=="function"&&(this.callbacks.afterRender_cb=t)},e.prototype.renderCustomWith=function(t){this.callbacks.renderCustomOp_cb=t},e}();_e.QuillDeltaToHtmlConverter=is;Object.defineProperty(z,"__esModule",{value:!0});var ss=_e,os=z.QuillDeltaToHtmlConverter=ss.QuillDeltaToHtmlConverter,as=Se;z.OpToHtmlConverter=as.OpToHtmlConverter;var St=M;z.InlineGroup=St.InlineGroup;z.VideoItem=St.VideoItem;z.BlockGroup=St.BlockGroup;z.ListGroup=St.ListGroup;z.ListItem=St.ListItem;z.BlotBlock=St.BlotBlock;var us=jt;z.DeltaInsertOp=us.DeltaInsertOp;var dr=Lt;z.InsertDataQuill=dr.InsertDataQuill;z.InsertDataCustom=dr.InsertDataCustom;var Tt=E;z.NewLine=Tt.NewLine;z.ListType=Tt.ListType;z.ScriptType=Tt.ScriptType;z.DirectionType=Tt.DirectionType;z.AlignType=Tt.AlignType;z.DataType=Tt.DataType;z.GroupType=Tt.GroupType;const ls={name:"CourseCard",inject:["role"],components:{CourseQuiz:oi},props:{course:{type:Object},moduleId:{type:Number}},data(){return{quizzes:[],url:"",title:"",content:"",visibleContent:!1,visible:!1,html:"",icons:{video:"pi pi-video",image:"pi pi-image",file:"pi pi-file"}}},created(){},methods:{goToQuiz(e){this.$router.push({name:"quiz",params:{courseId:this.course.id,quizId:e.id}})},editQuiz(e){this.$router.push({name:"quiz-edit",params:{courseId:this.course.id,quizId:e.id}})},deleteQuiz(e){pt.delete("/api/course/"+this.course.id+"/quiz/"+e.id).then(t=>{console.log(t)})},courseDetail(){this.$router.push({name:"course-detail",params:{moduleId:this.$route.params.moduleId,courseId:this.course.id}})},openDialogContent(e){this.content=JSON.parse(e.content),this.visibleContent=!0;var t=new os(this.content.ops,{}),n=t.convert();console.log(n),this.html=n},openDialog(e,t){this.visible=!0,this.url=e,this.title=t},startCourse(){pt.post("/api/module/"+this.$route.params.moduleId+"/course/"+this.course.id+"/startCourse").then(e=>{console.log(e),this.$emit("get-course",this.course),this.$toast.add({severity:"success",summary:e.data.message,life:3e3})}).catch(e=>{this.$toast.add({severity:"warn",summary:e.response.data.message,life:3e3})})},deleteCourse(){pt.delete("/api/module/"+this.$route.params.moduleId+"/course/"+this.course.id).then(e=>{console.log("yes")})},editCourse(){this.$router.push({name:"course-edit",params:{moduleId:this.$route.params.moduleId,courseId:this.course.id}})}}},cs={class:"pa-7 cursor-pointer m-4 border-round transition-all transition-duration-200 hover:bg-gray-100 shadow-4 hover:shadow-6"},ps={class:"flex justify-content-between"},fs=v("div",{class:"flex gap-2 align-items-center px-3 py-2"},[v("i",{class:"pi pi-check-square"}),v("h4",null,"Learn")],-1),ds={class:"mt-2 p-3"},hs={class:"flex px-5 pt-3"},vs={href:"",class:"text-xl font-bold text-900"},ms={class:"mt-2"},gs=v("div",null,null,-1),_s={key:0,class:"p-5"},ys={key:1,class:"px-5 pb-3"},bs=v("div",null,[v("h5",null,"Learn:")],-1),Ts=["href"],Cs=["src"],ks=["innerHTML"];function Ls(e,t,n,i,o,u){const c=nt("Button"),d=nt("Dialog"),g=nt("CourseQuiz");return A(),U(ce,null,[v("div",cs,[v("div",ps,[fs,v("div",ds,[u.role=="teacher"?(A(),ft(c,{key:0,style:{width:"150px"},label:"Edit Course",icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:u.editCourse},null,8,["onClick"])):bt("",!0),u.role=="teacher"?(A(),ft(c,{key:1,style:{width:"150px"},label:"Delete Course",icon:"pi pi-pencil",class:"p-button-rounded p-button-danger mr-2",onClick:u.deleteCourse},null,8,["onClick"])):bt("",!0)])]),v("div",hs,[v("div",null,[v("a",vs,tt(n.course.title),1),v("p",ms,"Description: "+tt(n.course.description),1)]),gs]),n.course.is_taken==!1&&u.role!="teacher"?(A(),U("div",_s,[yt(c,{onClick:u.startCourse},{default:Kt(()=>[Zt("Start the course")]),_:1},8,["onClick"])])):(A(),U("div",ys,[bs,(A(!0),U(ce,null,sr(n.course.media,f=>(A(),U("p",{key:f.id},[v("i",{class:Mn(o.icons[f.type]+" mr-3 mt-2 border-1 p-1 surface-200 text-900"),style:{"font-size":"1rem"}},null,2),v("a",{class:"text-900 text-lg hover:underline",href:"http://localhost:8081/"+f.url},tt(f.name),9,Ts)]))),128)),yt(d,{class:"p-2",header:this.title,visible:o.visible,"onUpdate:visible":t[0]||(t[0]=f=>o.visible=f)},{default:Kt(()=>[v("iframe",{src:"http://www.youtube.com/embed/"+this.url,width:"560",height:"315",frameborder:"0",allowfullscreen:""},null,8,Cs)]),_:1},8,["header","visible"]),yt(d,{class:"p-2 w-9",header:this.title,visible:o.visibleContent,"onUpdate:visible":t[1]||(t[1]=f=>o.visibleContent=f)},{default:Kt(()=>[v("div",{innerHTML:o.html},null,8,ks)]),_:1},8,["header","visible"])]))]),u.role=="teacher"&&n.course.quiz||u.role!="teacher"&&n.course.is_taken==!0&&n.course.quiz?(A(),ft(g,{key:0,onGoToQuiz:u.goToQuiz,onEditQuiz:u.editQuiz,onDeleteQuiz:u.deleteQuiz,quiz:n.course.quiz,course:n.course},null,8,["onGoToQuiz","onEditQuiz","onDeleteQuiz","quiz","course"])):bt("",!0)],64)}const Ss=$t(ls,[["render",Ls]]);const Is={name:"CourseList",props:{courses:{type:Array}},created(){},components:{CourseCardVue:Ss},methods(){}};function ws(e,t,n,i,o,u){const c=nt("Chip"),d=nt("CourseCardVue");return A(),U("div",null,[yt(c,{label:"Completed",class:"py-1 px-3 cursor-pointer font-bold text-900 hover:surface-400 mr-2 mb-3 custom-chip"}),(A(!0),U(ce,null,sr(n.courses,g=>(A(),ft(d,{onGetCourse:f=>e.$emit("get-course",g),key:g.id,course:g},null,8,["onGetCourse","course"]))),128))])}const As=$t(Is,[["render",ws],["__scopeId","data-v-3e4724b8"]]),Bs={inject:["role"],name:"ModuleDetail",components:{ModuleInfoVue:Un,CouresListVue:As},data(){return{id:null,info:{title:"",description:"",img_url:""},courses:[]}},beforeRouteUpdate(e,t){let n=this.$route.params.moduleId;this.id=n,pt.get("/api/module/"+n).then(i=>{this.info.title=i.data.title,this.info.description=i.data.descprtion,this.info.img_url=i.data.img_url,pt.get("/api/module/"+n+"/course").then(o=>{this.courses=o.data})})},async created(){let e=this.$route.params.moduleId;this.id=e,await this.getModule(),this.getCourses()},methods:{getCourses(){pt.get("/api/module/"+this.id+"/course").then(e=>{this.courses=e.data})},getCourse(e){pt.get("/api/module/"+this.id+"/course/"+e.id).then(t=>{console.log(t);let n=this.courses.findIndex(i=>i.id==e.id);this.courses.splice(n,1,t.data)})},async getModule(){return pt.get("/api/module/"+this.id).then(e=>{this.info.title=e.data.title,this.info.description=e.data.descprtion,this.info.img_url=e.data.img_url})}}},Os={class:"card pt-0 px-0 p-fluid bg-white"},zs={class:"p-4 text-white border-round-top m-0 bg-blue-300"},Ds={class:"p-5"},xs={class:"flex justify-content-between mb-5"},Gs=v("h3",null,"Courses",-1);function Hs(e,t,n,i,o,u){const c=nt("Button"),d=nt("router-link"),g=nt("CouresListVue");return A(),U("div",Os,[v("div",zs,[v("h3",null,"Module: "+tt(o.info.title),1)]),v("div",Ds,[v("div",xs,[Gs,u.role=="teacher"?(A(),ft(d,{key:0,to:{name:"course-create",params:{moduleId:o.id}}},{default:Kt(()=>[yt(c,{style:{width:"145px"},icon:"pi pi-plus",class:"ml-5",label:"Add Course"})]),_:1},8,["to"])):bt("",!0)]),yt(g,{onGetCourse:u.getCourse,onGetCourses:u.getCourses,courses:o.courses},null,8,["onGetCourse","onGetCourses","courses"])])])}const js=$t(Bs,[["render",Hs]]);export{js as default};
