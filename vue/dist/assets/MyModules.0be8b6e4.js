import{_,g as u,r as c,o as i,c as p,a as l,b as d,t as f,i as v,p as y,d as x}from"./index.ae1caef1.js";import{M as V}from"./ModulesCard.2feda7ee.js";const C={components:{ModuleCards:V},data(){return{selectedModule:null,deleteModuleDialog:!1,data:[],search:"",layout:"grid",sortKey:null,sortOrder:null,page:0,count:0,sortField:null,sortOptions:[{label:"Price High to Low",value:"!price"},{label:"Price Low to High",value:"price"}]}},created(){this.getModules(),u.get("/api/module/count").then(e=>{this.count=e.data.count})},methods:{list(e){this.page=e.page,this.getModules()},getModules(){let e={title:this.search,page:this.page+1};u.get("/api/module/myModules",{params:e}).then(t=>{this.data=t.data.data,this.data.forEach(o=>{u.get("/api/module/"+o.id+"/completedCourses").then(a=>{o.totalCourses=a.data.totalCourse,o.completedCourses=a.data.completedCourses})})})},src(e){return console.log(e),e.img_url.split("/")[2]},goTo(e){this.$router.push({name:"module-detail",params:{moduleId:e.id}})},onSortChange(e){const t=e.value.value,o=e.value;t.indexOf("!")===0?(this.sortOrder=-1,this.sortField=t.substring(1,t.length),this.sortKey=o):(this.sortOrder=1,this.sortField=t,this.sortKey=o)}}},h=e=>(y("data-v-b8262934"),e=e(),x(),e),I={class:"col-12"},b={class:"card"},L=h(()=>l("h3",null,"My Modules",-1)),S={class:"flex align-items-center"},w={class:"p-input-icon-right col-4"},P=h(()=>l("i",{class:"pi pi-search"},null,-1)),T={key:0,class:"mt-4 text-2xl"};function O(e,t,o,a,s,n){const r=c("InputText"),m=c("module-cards"),g=c("Paginator");return i(),p("div",I,[l("div",b,[L,l("div",S,[l("div",w,[P,d(r,{type:"text",class:"w-full",modelValue:s.search,"onUpdate:modelValue":t[0]||(t[0]=M=>s.search=M),placeholder:"Search",onInput:n.getModules},null,8,["modelValue","onInput"])])]),s.data.length==0&&s.search?(i(),p("p",T,' No match found for "'+f(s.search)+'". ',1)):v("",!0),d(m,{onGoTo:n.goTo,mylist:!0,modules:s.data},null,8,["onGoTo","modules"]),d(g,{rows:3,onPage:n.list,totalRecords:s.count},null,8,["onPage","totalRecords"])])])}const N=_(C,[["render",O],["__scopeId","data-v-b8262934"]]),k={name:"ModuleList",components:{ModuleListVue:N}},B={class:"grid w-8 m-auto"};function F(e,t,o,a,s,n){const r=c("ModuleListVue");return i(),p("div",B,[d(r)])}const E=_(k,[["render",F]]);export{E as default};
