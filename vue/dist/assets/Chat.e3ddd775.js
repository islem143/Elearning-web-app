import{_ as g,j as o,s as c,o as i,c as d,a as r,F as l,i as m,J as h,K as p,n as u,h as _,t as f}from"./index.72b1626b.js";const b={name:"Chat",data(){return{messages:[],message:"",userId:null}},created(){o.get("/api/messages").then(s=>{console.log(s.data),this.messages=s.data}),this.userId=c.state.auth.user.data.id,console.log(this.userId),window.Echo.private("chat."+this.userId).listen("MessageSent",s=>{let t={message:s.message,user_id:s.sender_id};this.messages.push(t)})},methods:{sendMessage(){o.post("/api/messages",{message:this.message,receiver_id:7}).then(s=>{this.messages.push({message:this.message,user_id:this.userId}),console.log(s.data)})}}},x={class:"card pt-5 px-5 p-fluid bg-white"},v={key:0,height:"40",class:"border-round-3xl mr-2",src:"http://localhost:8081/public/images/profile1.jpg",alt:""};function I(s,t,k,y,a,n){return i(),d(l,null,[r("div",x,[(i(!0),d(l,null,m(a.messages,e=>(i(),d("div",{key:e.id},[r("div",{class:u("flex "+(e.user_id==a.userId?"justify-content-end":" "))},[e.user_id!=a.userId?(i(),d("img",v)):_("",!0),r("div",{class:u("card p-3 text-md "+(e.user_id==a.userId?"bg-blue-500":"bg-blue-200"))},f(e.message),3)],2)]))),128))]),h(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.message=e)},null,512),[[p,a.message]]),r("button",{onClick:t[1]||(t[1]=(...e)=>n.sendMessage&&n.sendMessage(...e))},"btn")],64)}const M=g(b,[["render",I]]);export{M as default};
